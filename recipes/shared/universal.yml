
modules:
  - type: files
    files:
      - source: system
        destination: / # copies files/system/* (* means everything inside it) into your image's root folder /

  - type: fonts
    fonts:
      nerd-fonts:
        - FiraCode
        - Hack
        - SourceCodePro
        - Terminus
        - JetBrainsMono
        - NerdFontsSymbolsOnly
      google-fonts:
        - Roboto

  - type: rpm-ostree
    keys:
      - https://rpmfusion.org/keys?action=AttachFile&do=get&target=RPM-GPG-KEY-rpmfusion-free-fedora-2020
      - https://rpmfusion.org/keys?action=AttachFile&do=get&target=RPM-GPG-KEY-rpmfusion-nonfree-fedora-2020
      - https://packages.microsoft.com/keys/microsoft.asc
    repos:
      - https://cli.github.com/packages/rpm/gh-cli.repo
      - https://packages.microsoft.com/yumrepos/vscode/config.repo
      - https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-%OS_VERSION%.noarch.rpm
      - https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-%OS_VERSION%.noarch.rpm
      - https://download.docker.com/linux/fedora/docker-ce.repo
      # Hyprland Focused Repos
      - https://copr.fedorainfracloud.org/coprs/solopasha/hyprland/repo/fedora-%OS_VERSION%/solopasha-hyprland-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/tofik/nwg-shell/repo/fedora-%OS_VERSION%/tofik-nwg-shell-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/tofik/sway/repo/fedora-%OS_VERSION%/tofik-sway-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/erikreider/SwayNotificationCenter/repo/fedora-%OS_VERSION%/erikreider-SwayNotificationCenter-%OS_VERSION%.repo
    
    install:
      # Shell
      - bash-completion
      - fish
      # Perf Monitoring
      - htop
      - btop
      - nmon
      # System Info
      - fastfetch
      - sysstat
      - acpi
      # Audio
      - pipewire
      - wireplumber
      - pipewire-alsa
      - pipewire-pulseaudio
      - pavucontrol
      - pulseaudio-utils
      # Misc Utils
      - duf
      - rsync
      - trash-cli
      - wget
      - unzip
      - unrar
      - p7zip
      # Terminal
      - foot
      - kitty
      # XDG Utils
      - xdg-utils
      - xdg-user-dirs
      - xdg-user-dirs-gtk
      # File Manager
      - thunar
      - thunar-volman
      - thunar-archive-plugin
      - thunar-media-tags-plugin
      - gvfs
      - gvfs-mtp
      - gvfs-gphoto2
      - gvfs-smb
      - gvfs-nfs
      - gvfs-afc
      - gvfs-goa
      # Thumbnailers
      # - ffmpegthumbnailer
      - tumbler
      # QT Theme Management
      - kvantum
      - kvantum-qt5
      # GTK Theme Management
      - nwg-look
      # Desktop Apps
      - gnome-disk-utility
      # - google-chrome-stable
      - cheese
      - gimp
      - inkscape
      - rawtherapee
      - firefox
      - vlc
      - xarchiver
      # Input Management
      - solaar
      - solaar-udev
      # Print Drivers
      - system-config-printer
      - hplip
      - git
      - gh
      - code
      - podman
      - podman-compose
      - docker-ce 
      - docker-ce-cli 
      - containerd.io 
      - docker-buildx-plugin 
      - docker-compose-plugin
      - distrobox
      - just
      - lpf
      #'@virtualization'Fedora Package Group
      - virt-install
      - libvirt-daemon-config-network
      - libvirt-daemon-kvm
      - qemu-kvm
      - virt-manager
      - virt-viewer
      # Command Line Interface
      # - virsh
      # Devel library
      - libvirt-devel
      # Guestfs tools
      - libguestfs
      - guestfs-tools
      # Hyprland
      - hyprland
      # Hyprland Modules
      - hyprcursor
      - hypridle
      - hyprlock
      - hyprutils
      - hyprpaper
      - hyprland-plugins
      # Portal Utils
      - xdg-desktop-portal-hyprland
      # Wayland
      - egl-wayland
      # Bar, launcher, other
      - fuzzel
      - waybar
      - cliphist
      - SwayNotificationCenter
      - azote
      - gtklock # GTK Lockscreen, potential alterntaive to hyprlock
      - wlsunset
      - wl-clipboard
      # NWG Shell Modules
      - nwg-panel
      - nwg-look
      - nwg-displays
      - nwg-clipman

    remove:
    # TODO List of KDE apps that should be removed

  - type: default-flatpaks
    notify: true
    system:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      repo-name: flathub
      repo-title: "Flathub (System)"
      install:
        - com.github.tchx84.Flatseal
        - io.github.flattool.Warehouse
        - io.missioncenter.MissionCenter
        - it.mijorus.gearlever
        - com.spotify.Client
        - com.slack.Slack
        - fr.handbrake.ghb	
        - com.github.tchx84.Flatseal
        - org.gnome.Calculator
        - org.gnome.Evince
        - org.gnome.FileRoller
        - org.gnome.FontManager
        - org.gnome.Loupe
        - org.gnome.TextEditor
        - io.podman_desktop.PodmanDesktop # Podman/Container Management
        - io.github.dvlv.boxbuddyrs       # Distrobox 
        # # Gaming Flatpaks
        # - com.valvesoftware.Steam
        # - com.github.Matoking.protontricks
        # - net.davidotek.pupgui2
        # - com.usebottles.bottles
        # - org.libretro.RetroArch
        # ## Vulkan Layers for Bottles
        # - org.freedesktop.Platform.VulkanLayer.vkBasalt//23.08
        # - org.freedesktop.Platform.VulkanLayer.gamescope//23.08
    user:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      repo-name: flathub
      repo-title: "Flathub (User)"
  
  - type: bling
    install:
      - ublue-update  # https://github.com/ublue-os/ublue-update

